{
  "$comment": "AUTO-GENERATED - DO NOT EDIT. Regenerate with: cargo run --bin generate_types",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Config",

  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Config",
  "type": "object",
  "properties": {
    "projects": {
      "description": "List of projects operator can assign work to",
      "type": "array",
      "items": {
        "type": "string"
      },
      "default": []
    },
    "agents": {
      "$ref": "#/$defs/AgentsConfig"
    },
    "notifications": {
      "$ref": "#/$defs/NotificationsConfig"
    },
    "queue": {
      "$ref": "#/$defs/QueueConfig"
    },
    "paths": {
      "$ref": "#/$defs/PathsConfig"
    },
    "ui": {
      "$ref": "#/$defs/UiConfig"
    },
    "launch": {
      "$ref": "#/$defs/LaunchConfig"
    },
    "templates": {
      "$ref": "#/$defs/TemplatesConfig"
    },
    "api": {
      "$ref": "#/$defs/ApiConfig",
      "default": {
        "pr_check_interval_secs": 60,
        "rate_limit_check_interval_secs": 300,
        "rate_limit_warning_threshold": 0.20000000298023224
      }
    },
    "logging": {
      "$ref": "#/$defs/LoggingConfig",
      "default": {
        "level": "info",
        "to_file": true
      }
    },
    "tmux": {
      "$ref": "#/$defs/TmuxConfig",
      "default": {
        "config_generated": false
      }
    },
    "sessions": {
      "description": "Session wrapper configuration (tmux or vscode)",
      "$ref": "#/$defs/SessionsConfig",
      "default": {
        "wrapper": "tmux",
        "tmux": {
          "config_generated": false,
          "socket_name": "operator"
        },
        "vscode": {
          "webhook_port": 7009,
          "connect_timeout_ms": 5000
        }
      }
    },
    "llm_tools": {
      "$ref": "#/$defs/LlmToolsConfig",
      "default": {
        "detected": [],
        "providers": [],
        "detection_complete": false
      }
    },
    "backstage": {
      "$ref": "#/$defs/BackstageConfig",
      "default": {
        "enabled": true,
        "port": 7007,
        "auto_start": false,
        "subpath": "backstage",
        "branding_subpath": "branding",
        "release_url": "https://github.com/untra/operator/releases/latest/download",
        "local_binary_path": null,
        "branding": {
          "app_title": "Operator Portal",
          "org_name": "Operator",
          "logo_path": "logo.svg",
          "colors": {
            "primary": "#cc6c55",
            "secondary": "#114145",
            "accent": "#f4dbb7",
            "warning": "#d46048",
            "muted": "#8a4a3a"
          }
        }
      }
    },
    "rest_api": {
      "$ref": "#/$defs/RestApiConfig",
      "default": {
        "enabled": true,
        "port": 7008,
        "cors_origins": []
      }
    },
    "git": {
      "$ref": "#/$defs/GitConfig",
      "default": {
        "provider": null,
        "github": {
          "enabled": false,
          "token_env": ""
        },
        "gitlab": {
          "enabled": false,
          "token_env": "",
          "host": null
        },
        "branch_format": "{type}/{ticket_id}"
      }
    },
    "kanban": {
      "description": "Kanban provider configuration for syncing issues from Jira, Linear, etc.",
      "$ref": "#/$defs/KanbanConfig",
      "default": {
        "jira": {},
        "linear": {}
      }
    },
    "version_check": {
      "description": "Version check configuration for automatic update notifications",
      "$ref": "#/$defs/VersionCheckConfig",
      "default": {
        "enabled": true,
        "url": "https://operator.untra.io/VERSION",
        "timeout_secs": 3
      }
    }
  },
  "required": [
    "agents",
    "notifications",
    "queue",
    "paths",
    "ui",
    "launch",
    "templates"
  ],
  "$defs": {
    "AgentsConfig": {
      "type": "object",
      "properties": {
        "max_parallel": {
          "type": "integer",
          "format": "uint",
          "minimum": 0
        },
        "cores_reserved": {
          "type": "integer",
          "format": "uint",
          "minimum": 0
        },
        "health_check_interval": {
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        },
        "generation_timeout_secs": {
          "description": "Timeout in seconds for each agent generation (default: 300 = 5 min)",
          "type": "integer",
          "format": "uint64",
          "minimum": 0,
          "default": 300
        },
        "sync_interval": {
          "description": "Interval in seconds between ticket-session syncs (default: 60)",
          "type": "integer",
          "format": "uint64",
          "minimum": 0,
          "default": 60
        },
        "step_timeout": {
          "description": "Maximum seconds a step can run before timing out (default: 1800 = 30 min)",
          "type": "integer",
          "format": "uint64",
          "minimum": 0,
          "default": 1800
        },
        "silence_threshold": {
          "description": "Seconds of tmux silence before considering agent awaiting input (default: 30)",
          "type": "integer",
          "format": "uint64",
          "minimum": 0,
          "default": 6
        }
      },
      "required": [
        "max_parallel",
        "cores_reserved",
        "health_check_interval"
      ]
    },
    "NotificationsConfig": {
      "description": "Notifications configuration with support for multiple integrations.",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Global enabled flag for all notifications",
          "type": "boolean"
        },
        "os": {
          "description": "OS notification configuration",
          "$ref": "#/$defs/OsNotificationConfig",
          "default": {
            "enabled": true,
            "sound": false,
            "events": []
          }
        },
        "webhook": {
          "description": "Single webhook configuration (for simple setups)",
          "anyOf": [
            {
              "$ref": "#/$defs/WebhookConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "webhooks": {
          "description": "Multiple webhook configurations",
          "type": "array",
          "items": {
            "$ref": "#/$defs/WebhookConfig"
          },
          "default": []
        }
      },
      "required": [
        "enabled"
      ]
    },
    "OsNotificationConfig": {
      "description": "OS notification configuration.",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether OS notifications are enabled",
          "type": "boolean",
          "default": true
        },
        "sound": {
          "description": "Play sound with notifications",
          "type": "boolean",
          "default": false
        },
        "events": {
          "description": "Events to send (empty = all events)\nPossible values: agent.started, agent.completed, agent.failed,\nagent.awaiting_input, agent.session_lost, pr.created, pr.merged,\npr.closed, pr.ready_to_merge, pr.changes_requested,\nticket.returned, investigation.created",
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        }
      }
    },
    "WebhookConfig": {
      "description": "Webhook notification configuration.",
      "type": "object",
      "properties": {
        "name": {
          "description": "Optional name for this webhook (for logging)",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "enabled": {
          "description": "Whether this webhook is enabled",
          "type": "boolean",
          "default": false
        },
        "url": {
          "description": "Webhook URL",
          "type": "string",
          "default": ""
        },
        "auth_type": {
          "description": "Authentication type: \"bearer\" or \"basic\"",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "token_env": {
          "description": "Environment variable containing the bearer token",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "username": {
          "description": "Username for basic auth",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "password_env": {
          "description": "Environment variable containing the password for basic auth",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "events": {
          "description": "Events to send (empty = all events)",
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          },
          "default": null
        }
      }
    },
    "QueueConfig": {
      "type": "object",
      "properties": {
        "auto_assign": {
          "type": "boolean"
        },
        "priority_order": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "poll_interval_ms": {
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        }
      },
      "required": [
        "auto_assign",
        "priority_order",
        "poll_interval_ms"
      ]
    },
    "PathsConfig": {
      "type": "object",
      "properties": {
        "tickets": {
          "type": "string"
        },
        "projects": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "worktrees": {
          "description": "Base directory for per-ticket worktrees (default: ~/.operator/worktrees)",
          "type": "string",
          "default": "/Users/samuelvolin/.operator/worktrees"
        }
      },
      "required": [
        "tickets",
        "projects",
        "state"
      ]
    },
    "UiConfig": {
      "type": "object",
      "properties": {
        "refresh_rate_ms": {
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        },
        "completed_history_hours": {
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        },
        "summary_max_length": {
          "type": "integer",
          "format": "uint",
          "minimum": 0
        },
        "panel_names": {
          "$ref": "#/$defs/PanelNamesConfig",
          "default": {
            "queue": "TODO QUEUE",
            "agents": "DOING",
            "awaiting": "AWAITING",
            "completed": "DONE"
          }
        }
      },
      "required": [
        "refresh_rate_ms",
        "completed_history_hours",
        "summary_max_length"
      ]
    },
    "PanelNamesConfig": {
      "type": "object",
      "properties": {
        "queue": {
          "type": "string",
          "default": "TODO QUEUE"
        },
        "agents": {
          "type": "string",
          "default": "DOING"
        },
        "awaiting": {
          "type": "string",
          "default": "AWAITING"
        },
        "completed": {
          "type": "string",
          "default": "DONE"
        }
      }
    },
    "LaunchConfig": {
      "type": "object",
      "properties": {
        "confirm_autonomous": {
          "type": "boolean"
        },
        "confirm_paired": {
          "type": "boolean"
        },
        "launch_delay_ms": {
          "type": "integer",
          "format": "uint64",
          "minimum": 0
        },
        "docker": {
          "description": "Docker execution configuration",
          "$ref": "#/$defs/DockerConfig",
          "default": {
            "enabled": false,
            "image": "",
            "extra_args": [],
            "mount_path": "/workspace",
            "env_vars": []
          }
        },
        "yolo": {
          "description": "YOLO (auto-accept) mode configuration",
          "$ref": "#/$defs/YoloConfig",
          "default": {
            "enabled": false
          }
        }
      },
      "required": [
        "confirm_autonomous",
        "confirm_paired",
        "launch_delay_ms"
      ]
    },
    "DockerConfig": {
      "description": "Docker execution configuration for running agents in containers",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether docker mode option is available in launch dialog",
          "type": "boolean",
          "default": false
        },
        "image": {
          "description": "Docker image to use (required if enabled)",
          "type": "string",
          "default": ""
        },
        "extra_args": {
          "description": "Additional docker run arguments",
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        },
        "mount_path": {
          "description": "Container mount path for the project (default: /workspace)",
          "type": "string",
          "default": "/workspace"
        },
        "env_vars": {
          "description": "Environment variables to pass through to the container",
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        }
      }
    },
    "YoloConfig": {
      "description": "YOLO (auto-accept) mode configuration for fully autonomous execution",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether YOLO mode option is available in launch dialog",
          "type": "boolean",
          "default": false
        }
      }
    },
    "TemplatesConfig": {
      "type": "object",
      "properties": {
        "preset": {
          "description": "Named preset for issue type collection\nOptions: simple, dev_kanban, devops_kanban, custom",
          "$ref": "#/$defs/CollectionPreset",
          "default": "dev_kanban"
        },
        "collection": {
          "description": "Custom issuetype collection (only used when preset = custom)\nList of issue type keys: TASK, FEAT, FIX, SPIKE, INV",
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        },
        "active_collection": {
          "description": "Active collection name (overrides preset if set)\nCan be a builtin preset name or a user-defined collection",
          "type": [
            "string",
            "null"
          ],
          "default": null
        }
      }
    },
    "CollectionPreset": {
      "description": "Predefined issue type collections",
      "oneOf": [
        {
          "description": "Simple tasks only: TASK",
          "type": "string",
          "const": "simple"
        },
        {
          "description": "Developer kanban: TASK, FEAT, FIX",
          "type": "string",
          "const": "dev_kanban"
        },
        {
          "description": "DevOps kanban: TASK, SPIKE, INV, FEAT, FIX",
          "type": "string",
          "const": "devops_kanban"
        },
        {
          "description": "Custom collection (use the collection field)",
          "type": "string",
          "const": "custom"
        }
      ]
    },
    "ApiConfig": {
      "description": "API integrations configuration",
      "type": "object",
      "properties": {
        "pr_check_interval_secs": {
          "description": "Interval in seconds between PR status checks (default: 60)",
          "type": "integer",
          "format": "uint64",
          "minimum": 0,
          "default": 60
        },
        "rate_limit_check_interval_secs": {
          "description": "Interval in seconds between rate limit checks (default: 300)",
          "type": "integer",
          "format": "uint64",
          "minimum": 0,
          "default": 300
        },
        "rate_limit_warning_threshold": {
          "description": "Show warning when rate limit remaining is below this percentage (default: 0.2)",
          "type": "number",
          "format": "float",
          "default": 0.20000000298023224
        }
      }
    },
    "LoggingConfig": {
      "description": "Logging configuration",
      "type": "object",
      "properties": {
        "level": {
          "description": "Log level filter (trace, debug, info, warn, error)",
          "type": "string",
          "default": "info"
        },
        "to_file": {
          "description": "Whether to log to file in TUI mode (false = stderr for debugging)",
          "type": "boolean",
          "default": true
        }
      }
    },
    "TmuxConfig": {
      "type": "object",
      "properties": {
        "config_generated": {
          "description": "Whether custom tmux config has been generated",
          "type": "boolean",
          "default": false
        }
      }
    },
    "SessionsConfig": {
      "description": "Session wrapper configuration\n\nControls how operator creates and manages terminal sessions for agents.\nTwo modes are supported:\n- tmux: Standalone tmux sessions (default)\n- vscode: VS Code integrated terminal (requires extension)",
      "type": "object",
      "properties": {
        "wrapper": {
          "description": "Which session wrapper to use",
          "$ref": "#/$defs/SessionWrapperType",
          "default": "tmux"
        },
        "tmux": {
          "description": "Tmux-specific configuration",
          "$ref": "#/$defs/SessionsTmuxConfig",
          "default": {
            "config_generated": false,
            "socket_name": "operator"
          }
        },
        "vscode": {
          "description": "VS Code-specific configuration",
          "$ref": "#/$defs/SessionsVSCodeConfig",
          "default": {
            "webhook_port": 7009,
            "connect_timeout_ms": 5000
          }
        }
      }
    },
    "SessionWrapperType": {
      "description": "Session wrapper type for terminal session management",
      "oneOf": [
        {
          "description": "Standalone tmux sessions (default)",
          "type": "string",
          "const": "tmux"
        },
        {
          "description": "VS Code integrated terminal (via extension webhook)",
          "type": "string",
          "const": "vscode"
        }
      ]
    },
    "SessionsTmuxConfig": {
      "description": "Tmux-specific session configuration",
      "type": "object",
      "properties": {
        "config_generated": {
          "description": "Whether custom tmux config has been generated",
          "type": "boolean",
          "default": false
        },
        "socket_name": {
          "description": "Socket name for session isolation",
          "type": "string",
          "default": "operator"
        }
      }
    },
    "SessionsVSCodeConfig": {
      "description": "VS Code extension session configuration",
      "type": "object",
      "properties": {
        "webhook_port": {
          "description": "Port for extension webhook server",
          "type": "integer",
          "format": "uint16",
          "minimum": 0,
          "maximum": 65535,
          "default": 7009
        },
        "connect_timeout_ms": {
          "description": "Connection timeout in milliseconds",
          "type": "integer",
          "format": "uint64",
          "minimum": 0,
          "default": 5000
        }
      }
    },
    "LlmToolsConfig": {
      "description": "LLM CLI tools configuration",
      "type": "object",
      "properties": {
        "detected": {
          "description": "Detected CLI tools (populated on first startup)",
          "type": "array",
          "items": {
            "$ref": "#/$defs/DetectedTool"
          },
          "default": []
        },
        "providers": {
          "description": "Available {tool, model} pairs for launching tickets\nBuilt from detected tools + their model aliases",
          "type": "array",
          "items": {
            "$ref": "#/$defs/LlmProvider"
          },
          "default": []
        },
        "detection_complete": {
          "description": "Whether detection has been completed",
          "type": "boolean",
          "default": false
        }
      }
    },
    "DetectedTool": {
      "description": "A detected CLI tool (e.g., claude binary)",
      "type": "object",
      "properties": {
        "name": {
          "description": "Tool name (e.g., \"claude\")",
          "type": "string"
        },
        "path": {
          "description": "Path to the binary",
          "type": "string"
        },
        "version": {
          "description": "Version string",
          "type": "string"
        },
        "min_version": {
          "description": "Minimum required version for Operator compatibility",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "version_ok": {
          "description": "Whether the installed version meets the minimum requirement",
          "type": "boolean",
          "default": false
        },
        "model_aliases": {
          "description": "Available model aliases (e.g., [\"opus\", \"sonnet\", \"haiku\"])",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "command_template": {
          "description": "Command template with {{model}}, {{session_id}}, {{prompt_file}} placeholders",
          "type": "string",
          "default": ""
        },
        "capabilities": {
          "description": "Tool capabilities",
          "$ref": "#/$defs/ToolCapabilities",
          "default": {
            "supports_sessions": false,
            "supports_headless": false
          }
        },
        "yolo_flags": {
          "description": "CLI flags for YOLO (auto-accept) mode",
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        }
      },
      "required": [
        "name",
        "path",
        "version",
        "model_aliases"
      ]
    },
    "ToolCapabilities": {
      "description": "Tool capabilities",
      "type": "object",
      "properties": {
        "supports_sessions": {
          "description": "Whether the tool supports session continuity via UUID",
          "type": "boolean",
          "default": false
        },
        "supports_headless": {
          "description": "Whether the tool can run in headless/non-interactive mode",
          "type": "boolean",
          "default": false
        }
      }
    },
    "LlmProvider": {
      "description": "A {tool, model} pair that can be selected when launching tickets.\nIncludes optional variant fields adopted from vibe-kanban's profile system.",
      "type": "object",
      "properties": {
        "tool": {
          "description": "CLI tool name (e.g., \"claude\", \"codex\", \"gemini\")",
          "type": "string"
        },
        "model": {
          "description": "Model alias or name (e.g., \"opus\", \"sonnet\", \"gpt-4.1\")",
          "type": "string"
        },
        "display_name": {
          "description": "Optional display name for UI (e.g., \"Claude Opus\", \"Codex High\")",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "flags": {
          "description": "Additional CLI flags for this provider (e.g., [\"--dangerously-skip-permissions\"])",
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        },
        "env": {
          "description": "Environment variables to set when launching",
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "default": {}
        },
        "approvals": {
          "description": "Whether this provider requires approval gates",
          "type": "boolean",
          "default": false
        },
        "plan_only": {
          "description": "Whether to run in plan-only mode",
          "type": "boolean",
          "default": false
        },
        "reasoning_effort": {
          "description": "Reasoning effort level (Codex: \"low\", \"medium\", \"high\")",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "sandbox": {
          "description": "Sandbox mode (Codex: \"danger-full-access\", \"workspace-write\")",
          "type": [
            "string",
            "null"
          ],
          "default": null
        }
      },
      "required": [
        "tool",
        "model"
      ]
    },
    "BackstageConfig": {
      "description": "Backstage integration configuration",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether Backstage integration is enabled",
          "type": "boolean",
          "default": true
        },
        "port": {
          "description": "Port for the Backstage server",
          "type": "integer",
          "format": "uint16",
          "minimum": 0,
          "maximum": 65535,
          "default": 7007
        },
        "auto_start": {
          "description": "Auto-start Backstage server when TUI launches",
          "type": "boolean",
          "default": false
        },
        "subpath": {
          "description": "Subdirectory within state_path for Backstage installation",
          "type": "string",
          "default": "backstage"
        },
        "branding_subpath": {
          "description": "Subdirectory within backstage path for branding customization",
          "type": "string",
          "default": "branding"
        },
        "release_url": {
          "description": "Base URL for downloading backstage-server binary",
          "type": "string",
          "default": "https://github.com/untra/operator/releases/latest/download"
        },
        "local_binary_path": {
          "description": "Optional local path to backstage-server binary\nIf set, this is used instead of downloading from release_url",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "branding": {
          "description": "Branding and theming configuration",
          "$ref": "#/$defs/BrandingConfig",
          "default": {
            "app_title": "Operator Portal",
            "org_name": "Operator",
            "logo_path": "logo.svg",
            "colors": {
              "primary": "#cc6c55",
              "secondary": "#114145",
              "accent": "#f4dbb7",
              "warning": "#d46048",
              "muted": "#8a4a3a"
            }
          }
        }
      }
    },
    "BrandingConfig": {
      "description": "Branding configuration for Backstage portal",
      "type": "object",
      "properties": {
        "app_title": {
          "description": "App title shown in header",
          "type": "string",
          "default": "Operator Portal"
        },
        "org_name": {
          "description": "Organization name",
          "type": "string",
          "default": "Operator"
        },
        "logo_path": {
          "description": "Path to logo SVG (relative to branding path)",
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "colors": {
          "description": "Theme colors (uses Operator defaults if not set)",
          "$ref": "#/$defs/ThemeColors",
          "default": {
            "primary": "#cc6c55",
            "secondary": "#114145",
            "accent": "#f4dbb7",
            "warning": "#d46048",
            "muted": "#8a4a3a"
          }
        }
      }
    },
    "ThemeColors": {
      "description": "Theme color configuration for Backstage\nDefault colors match Operator's tmux theme",
      "type": "object",
      "properties": {
        "primary": {
          "description": "Primary/accent color (default: salmon #cc6c55)",
          "type": "string",
          "default": "#cc6c55"
        },
        "secondary": {
          "description": "Secondary color (default: dark teal #114145)",
          "type": "string",
          "default": "#114145"
        },
        "accent": {
          "description": "Accent/highlight color (default: cream #f4dbb7)",
          "type": "string",
          "default": "#f4dbb7"
        },
        "warning": {
          "description": "Warning/error color (default: coral #d46048)",
          "type": "string",
          "default": "#d46048"
        },
        "muted": {
          "description": "Muted text color (default: darker salmon #8a4a3a)",
          "type": "string",
          "default": "#8a4a3a"
        }
      }
    },
    "RestApiConfig": {
      "description": "REST API server configuration",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether the REST API is enabled",
          "type": "boolean",
          "default": true
        },
        "port": {
          "description": "Port for the REST API server",
          "type": "integer",
          "format": "uint16",
          "minimum": 0,
          "maximum": 65535,
          "default": 7008
        },
        "cors_origins": {
          "description": "CORS allowed origins (empty = allow all)",
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        }
      }
    },
    "GitConfig": {
      "description": "Git provider configuration for PR/MR operations",
      "type": "object",
      "properties": {
        "provider": {
          "description": "Active provider (auto-detected from remote URL if not specified)",
          "anyOf": [
            {
              "$ref": "#/$defs/GitProviderConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "github": {
          "description": "GitHub-specific configuration",
          "$ref": "#/$defs/GitHubConfig",
          "default": {
            "enabled": false,
            "token_env": ""
          }
        },
        "gitlab": {
          "description": "GitLab-specific configuration (planned)",
          "$ref": "#/$defs/GitLabConfig",
          "default": {
            "enabled": false,
            "token_env": "",
            "host": null
          }
        },
        "branch_format": {
          "description": "Branch naming format (e.g., \"{type}/{ticket_id}-{slug}\")",
          "type": "string",
          "default": "{type}/{ticket_id}"
        }
      }
    },
    "GitProviderConfig": {
      "description": "Git provider selection",
      "oneOf": [
        {
          "description": "GitHub (github.com)",
          "type": "string",
          "const": "github"
        },
        {
          "description": "GitLab (gitlab.com or self-hosted)",
          "type": "string",
          "const": "gitlab"
        },
        {
          "description": "Bitbucket (bitbucket.org)",
          "type": "string",
          "const": "bitbucket"
        },
        {
          "description": "Azure DevOps (dev.azure.com)",
          "type": "string",
          "const": "azuredevops"
        }
      ]
    },
    "GitHubConfig": {
      "description": "GitHub-specific configuration",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether GitHub integration is enabled",
          "type": "boolean",
          "default": true
        },
        "token_env": {
          "description": "Environment variable containing the GitHub token (default: GITHUB_TOKEN)",
          "type": "string",
          "default": "GITHUB_TOKEN"
        }
      }
    },
    "GitLabConfig": {
      "description": "GitLab-specific configuration (planned)",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether GitLab integration is enabled",
          "type": "boolean",
          "default": false
        },
        "token_env": {
          "description": "Environment variable containing the GitLab token (default: GITLAB_TOKEN)",
          "type": "string",
          "default": "GITLAB_TOKEN"
        },
        "host": {
          "description": "GitLab host (default: gitlab.com, can be self-hosted)",
          "type": [
            "string",
            "null"
          ],
          "default": null
        }
      }
    },
    "KanbanConfig": {
      "description": "Kanban provider configuration for syncing issues from external systems\n\nProviders are keyed by domain/workspace:\n- Jira: keyed by domain (e.g., \"foobar.atlassian.net\")\n- Linear: keyed by workspace slug (e.g., \"myworkspace\")",
      "type": "object",
      "properties": {
        "jira": {
          "description": "Jira Cloud instances keyed by domain (e.g., \"foobar.atlassian.net\")",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/$defs/JiraConfig"
          },
          "default": {}
        },
        "linear": {
          "description": "Linear instances keyed by workspace slug",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/$defs/LinearConfig"
          },
          "default": {}
        }
      }
    },
    "JiraConfig": {
      "description": "Jira Cloud provider configuration\n\nThe domain is specified as the HashMap key in KanbanConfig.jira",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether this provider is enabled",
          "type": "boolean",
          "default": false
        },
        "api_key_env": {
          "description": "Environment variable name containing the API key (default: OPERATOR_JIRA_API_KEY)",
          "type": "string",
          "default": "OPERATOR_JIRA_API_KEY"
        },
        "email": {
          "description": "Atlassian account email for authentication",
          "type": "string"
        },
        "projects": {
          "description": "Per-project sync configuration",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/$defs/ProjectSyncConfig"
          },
          "default": {}
        }
      },
      "required": [
        "email"
      ]
    },
    "ProjectSyncConfig": {
      "description": "Per-project/team sync configuration for a kanban provider",
      "type": "object",
      "properties": {
        "sync_user_id": {
          "description": "User ID to sync issues for (provider-specific format)\n- Jira: accountId (e.g., \"5e3f7acd9876543210abcdef\")\n- Linear: user ID (e.g., \"abc12345-6789-0abc-def0-123456789abc\")",
          "type": "string",
          "default": ""
        },
        "sync_statuses": {
          "description": "Workflow statuses to sync (empty = default/first status only)",
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": []
        },
        "collection_name": {
          "description": "IssueTypeCollection name this project maps to",
          "type": "string",
          "default": ""
        }
      }
    },
    "LinearConfig": {
      "description": "Linear provider configuration\n\nThe workspace slug is specified as the HashMap key in KanbanConfig.linear",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Whether this provider is enabled",
          "type": "boolean",
          "default": false
        },
        "api_key_env": {
          "description": "Environment variable name containing the API key (default: OPERATOR_LINEAR_API_KEY)",
          "type": "string",
          "default": "OPERATOR_LINEAR_API_KEY"
        },
        "projects": {
          "description": "Per-team sync configuration",
          "type": "object",
          "additionalProperties": {
            "$ref": "#/$defs/ProjectSyncConfig"
          },
          "default": {}
        }
      }
    },
    "VersionCheckConfig": {
      "description": "Version check configuration for automatic update notifications",
      "type": "object",
      "properties": {
        "enabled": {
          "description": "Enable automatic version checking on startup",
          "type": "boolean",
          "default": true
        },
        "url": {
          "description": "URL to fetch latest version from (optional, can be removed)",
          "type": [
            "string",
            "null"
          ],
          "default": "https://operator.untra.io/VERSION"
        },
        "timeout_secs": {
          "description": "Timeout in seconds for version check HTTP request",
          "type": "integer",
          "format": "uint64",
          "minimum": 0,
          "default": 3
        }
      }
    }
  }
}