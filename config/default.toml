# operator configuration

# Projects that operator can assign work to (populated during setup)
projects = []

[agents]
# Maximum number of concurrent agents
max_parallel = 5

# Number of CPU cores to keep free (actual max = cores - reserved)
cores_reserved = 1

# Timeout for agent health checks (seconds)
health_check_interval = 30

[notifications]
# Enable/disable all notifications
enabled = true

# OS notifications (native system notifications)
[notifications.os]
enabled = true
sound = false
events = []  # Empty = all events

# Webhook integration (disabled by default)
# [notifications.webhook]
# enabled = true
# url = "https://your-service.com/webhook"
# auth_type = "bearer"  # Optional: "bearer" or "basic"
# token_env = "WEBHOOK_TOKEN"  # For bearer auth
# events = ["agent.completed", "agent.failed"]  # Empty = all events

# Multiple webhooks can be configured:
# [[notifications.webhooks]]
# name = "slack"
# enabled = true
# url = "https://hooks.slack.com/services/xxx"
# events = ["agent.completed"]
#
# [[notifications.webhooks]]
# name = "pagerduty"
# enabled = true
# url = "https://events.pagerduty.com/v2/enqueue"
# auth_type = "bearer"
# token_env = "PAGERDUTY_TOKEN"
# events = ["agent.failed"]

[queue]
# Automatically assign work when agent slots are available
auto_assign = true

# Priority order for ticket types (highest first)
priority_order = ["INV", "FIX", "FEAT", "SPIKE"]

# Poll interval for queue changes (milliseconds)
poll_interval_ms = 1000

[paths]
# Path to tickets directory (relative to cwd or absolute)
tickets = ".tickets"

# Path to projects root (cwd is projects root)
projects = "."

# Path to operator state directory
state = ".tickets/operator"

[ui]
# Refresh rate for TUI (milliseconds)
refresh_rate_ms = 250

# Show completed tickets from last N hours
completed_history_hours = 24

# Truncate long ticket summaries at N characters
summary_max_length = 40

[launch]
# Require confirmation before launching autonomous agents
confirm_autonomous = true

# Require confirmation before launching paired agents
confirm_paired = true

# Delay between launching multiple agents (milliseconds)
launch_delay_ms = 2000

# Session wrapper configuration
# Controls how operator creates and manages terminal sessions for agents
[sessions]
# Which session wrapper to use: "tmux" (default) or "vscode"
wrapper = "tmux"

# Tmux-specific configuration (used when wrapper = "tmux")
[sessions.tmux]
# Whether custom tmux config has been generated
config_generated = false
# Socket name for session isolation
socket_name = "operator"

# VS Code extension configuration (used when wrapper = "vscode")
[sessions.vscode]
# Port for extension webhook server
webhook_port = 7009
# Connection timeout in milliseconds
connect_timeout_ms = 5000

[version_check]
# Enable automatic version checking on startup
enabled = true

# URL to fetch latest version from (set to null or remove to disable)
url = "https://operator.untra.io/VERSION"

# Timeout for version check HTTP request (seconds)
timeout_secs = 3
