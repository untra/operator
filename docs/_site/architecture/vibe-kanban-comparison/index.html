<h1 id="operator-vs-vibe-kanban-architecture-comparison">Operator vs Vibe-Kanban Architecture Comparison</h1>

<p>This document compares <a href="https://github.com/BloopAI/vibe-kanban">vibe-kanban</a> and Operator’s architectural approaches to LLM agent orchestration.</p>

<h2 id="overview">Overview</h2>

<table>
  <thead>
    <tr>
      <th>Aspect</th>
      <th>Vibe-Kanban</th>
      <th>Operator</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Focus</strong></td>
      <td>Multi-executor task management with container isolation</td>
      <td>TUI-driven ticket workflow with tmux sessions</td>
    </tr>
    <tr>
      <td><strong>State Storage</strong></td>
      <td>Database-backed (SQLite/PostgreSQL)</td>
      <td>File-based JSON</td>
    </tr>
    <tr>
      <td><strong>Execution Host</strong></td>
      <td>Container service (Docker)</td>
      <td>tmux sessions (macOS/Linux)</td>
    </tr>
    <tr>
      <td><strong>Primary UI</strong></td>
      <td>Web dashboard</td>
      <td>Terminal TUI (ratatui)</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="configuration-systems">Configuration Systems</h2>

<h3 id="vibe-kanban-three-layer">Vibe-Kanban: Three-Layer</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. Built-in defaults (default_profiles.json)
2. User overrides (~/.vibe-kanban/profiles.json)
3. Runtime overrides (env vars, CLI args)
</code></pre></div></div>

<p>Profiles use hierarchical identifiers: <code class="language-plaintext highlighter-rouge">CLAUDE_CODE.PLAN</code>, <code class="language-plaintext highlighter-rouge">CODEX.HIGH</code>.</p>

<h3 id="operator-four-layer">Operator: Four-Layer</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. Built-in defaults (embedded in binary)
2. Project config (.tickets/operator/config.toml)
3. User config (~/.config/operator/config.toml)
4. Environment variables (OPERATOR_ prefix)
</code></pre></div></div>

<p>Providers are flat structures with optional variant fields.</p>

<hr />

<h2 id="profilevariant-model">Profile/Variant Model</h2>

<h3 id="vibe-kanban-executor-variants">Vibe-Kanban: Executor Variants</h3>

<p>Each executor (CLAUDE_CODE, CODEX, CURSOR_AGENT) has named variants:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"executors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"CLAUDE_CODE"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"DEFAULT"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"dangerously_skip_permissions"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nl">"PLAN"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"plan"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nl">"OPUS"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"opus"</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nl">"APPROVALS"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nl">"approvals"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Variant resolution: <code class="language-plaintext highlighter-rouge">ExecutorProfileId(executor, variant)</code> → HashMap lookup → fallback to DEFAULT.</p>

<h3 id="operator-extended-llmprovider">Operator: Extended LlmProvider</h3>

<p>Flat structure with optional variant fields per provider:</p>

<div class="language-rust highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">pub</span> <span class="k">struct</span> <span class="n">LlmProvider</span> <span class="p">{</span>
    <span class="k">pub</span> <span class="n">tool</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span>              <span class="c1">// "claude", "codex", "gemini"</span>
    <span class="k">pub</span> <span class="n">model</span><span class="p">:</span> <span class="nb">String</span><span class="p">,</span>             <span class="c1">// "opus", "gpt-4.1"</span>
    <span class="k">pub</span> <span class="n">display_name</span><span class="p">:</span> <span class="nb">Option</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">,</span>

    <span class="c1">// Variant fields (all optional)</span>
    <span class="k">pub</span> <span class="n">flags</span><span class="p">:</span> <span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="k">pub</span> <span class="n">env</span><span class="p">:</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="nb">String</span><span class="p">,</span> <span class="nb">String</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="k">pub</span> <span class="n">approvals</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="k">pub</span> <span class="n">plan_only</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="k">pub</span> <span class="n">reasoning_effort</span><span class="p">:</span> <span class="nb">Option</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">,</span>  <span class="c1">// Codex</span>
    <span class="k">pub</span> <span class="n">sandbox</span><span class="p">:</span> <span class="nb">Option</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="p">,</span>           <span class="c1">// Codex</span>
<span class="p">}</span>
</code></pre></div></div>

<hr />

<h2 id="task-execution-lifecycle">Task Execution Lifecycle</h2>

<h3 id="vibe-kanban-hierarchy">Vibe-Kanban Hierarchy</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Task
└── Workspace (isolated Git worktree + branch)
    └── Session (conversation context)
        └── ExecutionProcess (individual execution step)
</code></pre></div></div>

<p><strong>Key features:</strong></p>
<ul>
  <li>Workspaces get isolated Git worktrees</li>
  <li>Sessions maintain conversation continuity via internal agent IDs</li>
  <li>ExecutionProcess tracks setup, agent run, cleanup, dev servers</li>
</ul>

<h3 id="operator-hierarchy">Operator Hierarchy</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Ticket
└── Agent (tmux session)
    └── Step (plan, build, code, test, deploy)
        └── Session UUID (Claude session ID per step)
</code></pre></div></div>

<p><strong>Key features:</strong></p>
<ul>
  <li>Steps defined declaratively in JSON templates</li>
  <li>Session UUIDs stored in ticket YAML frontmatter</li>
  <li>Review gates per step (Plan, Visual, PR)</li>
</ul>

<hr />

<h2 id="isolation-model">Isolation Model</h2>

<h3 id="vibe-kanban-containerized-worktrees">Vibe-Kanban: Containerized Worktrees</h3>

<ul>
  <li>Each task gets isolated Git worktree</li>
  <li>Branch pattern: <code class="language-plaintext highlighter-rouge">{prefix}/{short_uuid}-{sanitized_title}</code></li>
  <li>Before/after commit states tracked per repository</li>
  <li>Container spawns executor via <code class="language-plaintext highlighter-rouge">StandardCodingAgentExecutor::spawn()</code></li>
</ul>

<h3 id="operator-per-ticket-worktrees">Operator: Per-Ticket Worktrees</h3>

<ul>
  <li>WorktreeManager creates worktrees at <code class="language-plaintext highlighter-rouge">~/.operator/worktrees/{project}/{ticket_id}</code></li>
  <li>Branch pattern: <code class="language-plaintext highlighter-rouge">{ticket_type}/{ticket_id}-{sanitized_summary}</code></li>
  <li>ProjectRepo.setup_script runs before agent launch</li>
  <li>ProjectRepo.cleanup_script runs after PR merge</li>
  <li>Global locking prevents race conditions during creation</li>
</ul>

<hr />

<h2 id="state-management">State Management</h2>

<h3 id="vibe-kanban">Vibe-Kanban</h3>

<ul>
  <li><strong>Database-backed</strong>: SQLite or PostgreSQL</li>
  <li>Workspace, Session, ExecutionProcess as database models</li>
  <li>Exit signal monitoring via ExecutorExitSignal</li>
  <li>Auto-commit modifications on completion</li>
</ul>

<h3 id="operator">Operator</h3>

<ul>
  <li><strong>File-based JSON</strong>: <code class="language-plaintext highlighter-rouge">.tickets/operator/state.json</code></li>
  <li>AgentState tracks tmux session, content hash, last activity</li>
  <li>SessionMonitor polls tmux every 30s</li>
  <li>Silence detection for “awaiting input” status</li>
</ul>

<hr />

<h2 id="human-in-the-loop">Human-in-the-Loop</h2>

<h3 id="vibe-kanban-1">Vibe-Kanban</h3>

<p>Approval controlled via variant selection:</p>

<table>
  <thead>
    <tr>
      <th>Variant</th>
      <th>Behavior</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DEFAULT</td>
      <td>Auto-approve all</td>
    </tr>
    <tr>
      <td>APPROVALS</td>
      <td>Require approval for modifications</td>
    </tr>
    <tr>
      <td>PLAN</td>
      <td>Present plan before execution</td>
    </tr>
  </tbody>
</table>

<h3 id="operator-1">Operator</h3>

<p>Mode + review gates:</p>

<table>
  <thead>
    <tr>
      <th>Mode</th>
      <th>Ticket Types</th>
      <th>Behavior</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Autonomous</td>
      <td>FEAT, FIX, TASK</td>
      <td>Auto-proceed between steps</td>
    </tr>
    <tr>
      <td>Paired</td>
      <td>SPIKE, INV</td>
      <td>Pause for human interaction</td>
    </tr>
  </tbody>
</table>

<p>Review gates per step:</p>
<ul>
  <li><strong>Plan</strong>: Operator approval before proceeding</li>
  <li><strong>Visual</strong>: Browser-based visual check</li>
  <li><strong>PR</strong>: GitHub PR review gate</li>
</ul>

<hr />

<h2 id="multi-llm-support">Multi-LLM Support</h2>

<h3 id="vibe-kanban-2">Vibe-Kanban</h3>

<p>First-class executors with per-executor configuration:</p>

<table>
  <thead>
    <tr>
      <th>Executor</th>
      <th>Variants</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CLAUDE_CODE</td>
      <td>DEFAULT, PLAN, OPUS, APPROVALS</td>
    </tr>
    <tr>
      <td>CODEX</td>
      <td>DEFAULT, HIGH, APPROVALS, MAX</td>
    </tr>
    <tr>
      <td>CURSOR_AGENT</td>
      <td>DEFAULT, SONNET_4_5, GPT_5, GROK</td>
    </tr>
  </tbody>
</table>

<h3 id="operator-2">Operator</h3>

<p>Detection-based with extended LlmProvider:</p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">[[</span><span class="n">llm_tools</span><span class="k">.</span><span class="n">providers</span><span class="k">]]</span>
<span class="n">tool</span> <span class="o">=</span><span class="w"> </span><span class="s">"claude"</span>
<span class="n">model</span> <span class="o">=</span><span class="w"> </span><span class="s">"opus"</span>
<span class="n">display_name</span> <span class="o">=</span><span class="w"> </span><span class="s">"Claude Opus"</span>
<span class="n">flags</span> <span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">"--dangerously-skip-permissions"</span><span class="p">]</span>

<span class="k">[[</span><span class="n">llm_tools</span><span class="k">.</span><span class="n">providers</span><span class="k">]]</span>
<span class="n">tool</span> <span class="o">=</span><span class="w"> </span><span class="s">"codex"</span>
<span class="n">model</span> <span class="o">=</span><span class="w"> </span><span class="s">"gpt-4.1"</span>
<span class="n">display_name</span> <span class="o">=</span><span class="w"> </span><span class="s">"Codex High"</span>
<span class="n">sandbox</span> <span class="o">=</span><span class="w"> </span><span class="s">"danger-full-access"</span>
<span class="n">reasoning_effort</span> <span class="o">=</span><span class="w"> </span><span class="s">"high"</span>
</code></pre></div></div>

<hr />

<h2 id="key-differences-summary">Key Differences Summary</h2>

<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>Vibe-Kanban</th>
      <th>Operator</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Variant structure</td>
      <td>Nested HashMap</td>
      <td>Flat LlmProvider</td>
    </tr>
    <tr>
      <td>Database</td>
      <td>SQLite/PostgreSQL</td>
      <td>JSON files</td>
    </tr>
    <tr>
      <td>Execution</td>
      <td>Container service</td>
      <td>tmux sessions</td>
    </tr>
    <tr>
      <td>Worktree base</td>
      <td>Per-workspace</td>
      <td>Per-ticket</td>
    </tr>
    <tr>
      <td>Session continuity</td>
      <td>Database model</td>
      <td>Frontmatter UUIDs</td>
    </tr>
    <tr>
      <td>Notifications</td>
      <td>N/A</td>
      <td>macOS native</td>
    </tr>
    <tr>
      <td>UI</td>
      <td>Web dashboard</td>
      <td>Terminal TUI</td>
    </tr>
    <tr>
      <td>Config format</td>
      <td>JSON</td>
      <td>TOML</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="patterns-adopted-from-vibe-kanban">Patterns Adopted from Vibe-Kanban</h2>

<ol>
  <li><strong>Per-task Git worktrees</strong> for parallel development isolation</li>
  <li><strong>Setup/cleanup scripts</strong> per repository</li>
  <li><strong>Variant fields</strong> on providers (flags, env, approvals, plan_only)</li>
  <li><strong>Branch naming convention</strong> with type prefix</li>
  <li><strong>Multi-LLM support</strong> (Claude, Codex, Gemini)</li>
</ol>

<hr />

<h2 id="references">References</h2>

<ul>
  <li><a href="https://deepwiki.com/BloopAI/vibe-kanban/3.2-configuration-and-profiles">vibe-kanban Configuration and Profiles</a></li>
  <li><a href="https://deepwiki.com/BloopAI/vibe-kanban/2.3-task-attempts-and-execution-lifecycle">vibe-kanban Task Attempts and Execution Lifecycle</a></li>
</ul>
